!function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,t.c=n,t.p="",t(0)}([function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();var o=new(function(){function e(){var n=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),$(document).ready(function(){n.carousel(),n.scrollMonitor(),n.photoGrid(),n.videoBox()}),this.owlWidget=".owl-widget"}return t(e,[{key:"carousel",value:function(){$(this.owlWidget).owlCarousel({loop:!0,nav:!0,dots:!1,items:1,navText:[],margin:2})}},{key:"scrollMonitor",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){$(".widget").toArray().map(function(e){var n=scrollMonitor.create(e);return n.enterViewport(function(){$(e).addClass("widget-animation")}),n.exitViewport(function(){$(e).removeClass("widget-animation")}),n})})},{key:"photoGrid",value:function(){"small"===Foundation.MediaQuery.current&&$(".photo-grid").addClass("owl-carousel").owlCarousel({loop:!0,nav:!1,dots:!1,items:1})}},{key:"videoBox",value:function(){if($("[data-video]").length){var e=document.createElement("script");e.addEventListener("load",this.videoPlugin),e.src="https://player.vimeo.com/api/player.js",e.async=!0,document.getElementsByTagName("script")[0].parentNode.appendChild(e)}}},{key:"videoPlugin",value:function(){$("[data-video]").each(function(e,n){var t=$(n),o=t.data("video"),s=void 0;function r(){s=setTimeout(function(){t.find(".player-bar").hide()},3e3)}function i(){clearTimeout(s)}!1!==t.data("controls")&&(t.append('<div class="player-bar">\n                    <button class="play-btn">\n                        <svg class="play"><use xlink:href="'+window.staticURL+'images/sprite.svg#play" /></use></svg>\n                        <svg class="pause"><use xlink:href="'+window.staticURL+'images/sprite.svg#pause" /></use></svg>\n                    </button>\n                    <div class="seeker-wrapper">\n                        <div class="seeker-btn"></div>\n                    </div>\n                    <div class="fullscreen-btn">\n                        <svg class="full"><use xlink:href="'+window.staticURL+'images/sprite.svg#fullscreen" /></use></svg>\n                        <svg class="small"><use xlink:href="'+window.staticURL+'images/sprite.svg#smallscreen" /></use></svg>\n                    </div>\n                </div>\n                '),t.on("mouseenter mouseover mousemove touchstart",function(){i(),t.find(".player-bar").show(),t.hasClass("video-playing")&&!t.find(".player-bar").is(":hover")&&r()}).on("mouseleave touchend",function(){r()}));var a=null,l=t.find(".seeker-btn"),u=t.find(".seeker-wrapper"),c=new Vimeo.Player(n,{id:o,playsinline:!0,muted:!0===t.data("mute"),controls:!1,autoplay:!0===t.data("autoplay"),loop:!0===t.data("loop")});c.on("play",function(){t.addClass("video-playing"),r()}),c.on("pause",function(){t.removeClass("video-playing")}),c.on("timeupdate",function(e){a||t.find(".seeker-btn").css("left",100*e.percent+"%")}),c.on("ended",function(){i(),t.find(".player-bar").show()}),t.find(".play-btn").click(function(){t.hasClass("video-playing")?c.pause():c.play()}),t.find(".fullscreen-btn").click(function(){(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen())}),t.on("fullscreenchange",function(){document.fullscreenElement?t.addClass("video-fullscreen"):t.removeClass("video-fullscreen")}),t.find(".seeker-wrapper").click(function(e){e.target!==l.get(0)&&c.getDuration().then(function(n){var t=n*e.offsetX/e.currentTarget.offsetWidth;c.setCurrentTime(t)})}),u.on("mousemove",function(e){var n=e.pageX-$(e.currentTarget).offset().left,t=n>e.currentTarget.offsetWidth?e.currentTarget.offsetWidth:n<0?0:n;a&&a.css("left",t).data("offset",t).data("width",e.currentTarget.offsetWidth)}),u.on("mouseup",function(){if(a){var e=a.data("offset"),n=a.data("width");e&&n&&c.getDuration().then(function(t){var o=t*e/n;c.setCurrentTime(o)}),a=null}}),l.on("mousedown",function(e){a=$(e.currentTarget)})})}}]),e}());n.default=o}]);
//# sourceMappingURL=widgets.min.js.map